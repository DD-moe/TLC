<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <title>Analiza danych wynikowych</title>
  <style>
    textarea {
      width: 100%;
      height: 120px;
      margin-bottom: 10px;
      font-family: monospace;
    }
    pre {
      background: #eee;
      padding: 10px;
      white-space: pre-wrap;
      font-family: monospace;
    }
  </style>
</head>
<body>
  <h2>Wklej dane wejściowe:</h2>
  <textarea id="inputData" placeholder="Wklej dane, np. M_1_Result.png: sum - 123   area - 456   intensity - 7.89"></textarea>

  <h2>Wprowadź numery danych (oddzielone spacjami):</h2>
  <textarea id="dataNumbers" placeholder="Np. 8 9 7 6 7 5 3 1 4 2"></textarea>

  <button onclick="processData()">Przetwórz dane</button>

  <h2>Wynik:</h2>
  <pre id="output"></pre>

  <script>
    function processData() {
      const inputText = document.getElementById('inputData').value;
      const dataNumbers = document.getElementById('dataNumbers').value.trim().split(/\s+/);

      const lines = inputText.split('\n');
      const dataMap = {};

      // Mapujemy dane: numer → sum, area, intensity
      for (const line of lines) {
        const match = line.match(/^M_(\d+)_Result\.png:\s*sum\s*-\s*(\S+)\s+area\s*-\s*(\S+)\s+intensity\s*-\s*(\S+)/);
        if (match) {
          const [_, num, sum, area, intensity] = match;
          dataMap[num] = { sum, area, intensity };
        }
      }

      // Tworzymy wynik w zadanej kolejności
      let result = '';
      for (const num of dataNumbers) {
        const d = dataMap[num];
        if (d) {
          result += `${num}   ${d.sum}   ${d.area}   ${d.intensity}\n`;
        } else {
          result += `${num}   brak danych\n`;
        }
      }

      document.getElementById('output').textContent = result;
    }
  </script>
</body>
</html>
